<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Become a Seller ‚Äî MR Shop</title>
	<style>
		:root{--accent:#0f62fe;--muted:#374151}
		*{box-sizing:border-box}
		body{font-family:Arial,Helvetica,sans-serif;margin:0;color:var(--muted);background:linear-gradient(135deg,#f7fbff 0%,#ffffff 100%)}
		header{background:linear-gradient(90deg,var(--accent),#06b6d4);color:#fff;padding:12px 18px;display:flex;justify-content:space-between;align-items:center}
	header h1{font-size:18px;margin:0}
	.brand-link{color:inherit;text-decoration:none;font-weight:700;display:inline-flex;align-items:center;gap:8px}
	.brand-link:focus{outline:2px solid rgba(255,255,255,0.12);border-radius:6px;padding:4px}
		.header-links{display:flex;gap:8px;align-items:center}
		.header-links a{color:#fff;text-decoration:none;padding:6px 10px;border-radius:6px;background:transparent}
		.page{max-width:980px;margin:28px auto;padding:18px}
		.card{background:rgba(255,255,255,0.96);border-radius:12px;padding:22px;box-shadow:0 12px 36px rgba(12,20,30,0.06)}
		h2{color:var(--accent);margin-top:0}
		.grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
		.form-group{margin-bottom:12px}
		label{display:block;margin-bottom:6px;font-weight:600}
		input[type="text"], input[type="tel"], input[type="email"], input[type="number"], select, textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ee}
		textarea{min-height:90px;padding-top:10px}
		.full{grid-column:1/-1}
		.file-row{display:flex;gap:12px;align-items:center}
		.file-preview{width:90px;height:70px;border-radius:8px;background:#f3f4f6;border:1px dashed #d1d5db;display:flex;align-items:center;justify-content:center;overflow:hidden}
		.file-preview img{width:100%;height:100%;object-fit:cover}
		.small{font-size:13px;color:#6b7280}
		.checkbox{display:flex;gap:8px;align-items:center}
		.submit-row{display:flex;gap:12px;align-items:center;margin-top:12px}
		button.primary{background:linear-gradient(90deg,var(--accent),#06b6d4);color:#fff;padding:10px 16px;border-radius:10px;border:none;cursor:pointer}
		button.ghost{background:transparent;border:1px solid #e6e9ee;padding:10px 14px;border-radius:10px}
		@media (max-width:820px){.grid{grid-template-columns:1fr}.file-preview{width:72px;height:56px}}

		/* Loader overlay styles */
		#loaderOverlay{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:flex;align-items:center;justify-content:center;z-index:9999}
		.ig-loader{display:flex;flex-direction:column;align-items:center;gap:12px;color:white}
		/* Spinner: conic gradient ring that rotates */
		.ig-spinner{width:92px;height:92px;border-radius:50%;display:flex;align-items:center;justify-content:center;animation:spin 1s linear infinite}
		.ig-spinner{background:conic-gradient(#f09433,#e6683c,#dc2743,#cc2366,#bc1888,#7a3cff,#405de6,#2bb7e7)}
		.ig-inner{width:70%;height:70%;border-radius:50%;background:#fff;box-shadow:0 6px 18px rgba(2,6,23,0.2);display:flex;align-items:center;justify-content:center}
		.ig-inner::after{content:'';width:36px;height:36px;background:transparent;border-radius:50%;box-shadow:inset 0 0 0 2px rgba(0,0,0,0.06)}
		.ig-msg{font-weight:600}
		@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
	</style>
</head>
<body>
	<header>
		<h1><a href="home.html" class="brand-link" aria-label="MR Shop home" style="display:flex;align-items:center;gap:8px"><span style="font-size:32px">üõçÔ∏è</span><img src="mrlogo.png" alt="MR" class="mr-logo" style="height:32px;width:auto;object-fit:contain" /></a></h1>
		<div class="header-links">
			<a href="home.html">Home</a>
			<a href="signup.html">Sign up</a>
			<a href="signin.html">Sign in</a>
			<button id="themeToggle" class="theme-toggle" aria-label="Toggle theme">üåô</button>
		</div>
	</header>

	<!-- Loading overlay (Instagram-like colorful spinner) -->
	<div id="loaderOverlay" aria-hidden="true" style="display:none">
		<div class="ig-loader" role="status" aria-live="polite">
			<div class="ig-spinner" aria-hidden="true">
				<div class="ig-inner"></div>
			</div>
			<div class="ig-msg small">Submitting your application‚Ä¶</div>
		</div>
	</div>

	<main class="page">
		<div class="card">
			<h2>Become a Seller</h2>
			<p class="small">Please provide accurate details. We'll review your application and contact you.</p>

			<form id="sellerForm" enctype="multipart/form-data">
				<div class="grid">
					<div class="form-group">
						<label for="fullName">Full name</label>
						<input id="fullName" name="fullName" type="text" placeholder="Your full name" required />
					</div>

					<div class="form-group">
						<label for="phone">Phone number</label>
						<input id="phone" name="phone" type="tel" placeholder="01XXXXXXXXX" required />
					</div>

					<div class="form-group">
						<label for="shopName">Shop / Business name</label>
						<input id="shopName" name="shopName" type="text" placeholder="Your shop name" />
					</div>

					<div class="form-group">
						<label for="businessType">Business type</label>
						<select id="businessType" name="businessType">
							<option value="individual">Individual / Home-made</option>
							<option value="shop">Retail Shop</option>
							<option value="wholesale">Wholesale</option>
							<option value="agriculture">Agriculture Producer</option>
							<option value="other">Other</option>
						</select>
					</div>

					<div class="form-group full">
						<label for="tradeLicense">Trade license / Registration number (if any)</label>
						<input id="tradeLicense" name="tradeLicense" type="text" placeholder="Trade license or business reg. number" />
					</div>

					<div class="form-group">
						<label for="bankName">Bank name (for payouts)</label>
						<input id="bankName" name="bankName" type="text" placeholder="Bank name" />
					</div>

					<div class="form-group">
						<label for="bankAccount">Bank account number</label>
						<input id="bankAccount" name="bankAccount" type="text" placeholder="Account number" />
					</div>

					<div class="form-group full">
						<label for="pickupAddress">Preferred pickup / return address</label>
						<textarea id="pickupAddress" name="pickupAddress" placeholder="Pickup address / location details"></textarea>
					</div>

					<div class="form-group">
						<label for="division">Division</label>
						<select id="division" name="division" required>
							<option value="">Select division</option>
						</select>
					</div>

					<div class="form-group">
						<label for="district">District</label>
						<select id="district" name="district" required disabled>
							<option value="">Select district</option>
						</select>
					</div>

					<div class="form-group full">
						<label for="area">Area / Thana</label>
						<select id="area" name="area" required disabled>
							<option value="">Select area</option>
						</select>
					</div>

					<div class="form-group full">
						<label>Product categories you will sell (choose all that apply)</label>
						<div style="display:flex;flex-wrap:wrap;gap:8px">
							<label><input type="checkbox" name="categories" value="food" /> Food & Natural</label>
							<label><input type="checkbox" name="categories" value="sweets" /> Sweets & Dairy</label>
							<label><input type="checkbox" name="categories" value="handicrafts" /> Handicrafts</label>
							<label><input type="checkbox" name="categories" value="clothing" /> Clothing</label>
							<label><input type="checkbox" name="categories" value="agriculture" /> Agriculture</label>
							<label><input type="checkbox" name="categories" value="others" /> Others</label>
						</div>
					</div>

					<div class="form-group full">
						<label>Upload profile photo (optional)</label>
						<div class="file-row">
							<input id="profilePhoto" name="profilePhoto" type="file" accept="image/*" />
							<div class="file-preview" id="previewProfile"><span class="small">No preview</span></div>
						</div>
					</div>

					<div class="form-group">
						<label>Upload NID / National ID (front)</label>
						<div class="file-row">
							<input id="nidFront" name="nidFront" type="file" accept="image/*,application/pdf" required />
							<div class="file-preview" id="previewNidFront"><span class="small">No preview</span></div>
						</div>
					</div>

					<div class="form-group">
						<label>Upload NID / National ID (back)</label>
						<div class="file-row">
							<input id="nidBack" name="nidBack" type="file" accept="image/*,application/pdf" required />
							<div class="file-preview" id="previewNidBack"><span class="small">No preview</span></div>
						</div>
					</div>

					<div class="form-group full">
						<label for="additionalInfo">Anything else we should know?</label>
						<textarea id="additionalInfo" name="additionalInfo" placeholder="E.g., working hours, delivery limits, notes"></textarea>
					</div>

					<div class="form-group full checkbox">
						<input id="agree" name="agree" type="checkbox" required />
						<label for="agree" class="small">I confirm the information provided is correct and I agree to the seller terms.</label>
					</div>

				</div>

				<div class="submit-row">
					<button type="submit" class="primary">Submit application</button>
					<button type="button" class="ghost" onclick="history.back();">Cancel</button>
				</div>
			</form>
		</div>
	</main>

	<script>
		// Small BD location sample (same shape as signup page) - replace/expand if needed
		const BD_LOC = {
			'Dhaka': { 'Dhaka': ['Dhanmondi','Gulshan','Mirpur','Banani'], 'Gazipur': ['Gazipur Sadar','Tongi','Kaliakoir'] },
			'Chattogram': { 'Chattogram': ['Pahartali','Halishahar','Panchlaish'], "Cox's Bazar": ["Cox's Bazaar Sadar","Ukhia","Teknaf"] },
			'Sylhet': { 'Sylhet': ['Sylhet Sadar','Balaganj','Kanaighat'] },
			'Rajshahi': { 'Rajshahi': ['Boalia','Motihar','Godagari'] }
		};

		function $(id){return document.getElementById(id)}
		function populateSelect(sel, items, placeholder){ sel.innerHTML=''; const o0=document.createElement('option'); o0.value=''; o0.textContent=placeholder||'Select'; sel.appendChild(o0); items.forEach(it=>{const o=document.createElement('option');o.value=it;o.textContent=it;sel.appendChild(o)}); }

		document.addEventListener('DOMContentLoaded', ()=>{
			const division = $('division'), district = $('district'), area = $('area');
			populateSelect(division, Object.keys(BD_LOC), 'Select division');
			division.addEventListener('change', ()=>{
				const div = division.value; if(!div){ district.innerHTML='<option value="">Select district</option>'; district.disabled=true; area.innerHTML='<option value="">Select area</option>'; area.disabled=true; return; }
				populateSelect(district, Object.keys(BD_LOC[div]||{}), 'Select district'); district.disabled=false; area.innerHTML='<option value="">Select area</option>'; area.disabled=true;
			});
			district.addEventListener('change', ()=>{
				const div = division.value, dist = district.value; if(!dist){ area.innerHTML='<option value="">Select area</option>'; area.disabled=true; return; }
				const areas = BD_LOC[div] && BD_LOC[div][dist] ? BD_LOC[div][dist] : [];
				populateSelect(area, areas, 'Select area'); area.disabled=false;
			});

			// File preview helpers
			function previewFile(inputEl, previewEl){
				const file = inputEl.files && inputEl.files[0];
				previewEl.innerHTML='';
				if(!file){ previewEl.innerHTML='<span class="small">No preview</span>'; return; }
				if(file.type.startsWith('image/')){
					const img = document.createElement('img'); img.src = URL.createObjectURL(file); img.onload = ()=> URL.revokeObjectURL(img.src); previewEl.appendChild(img);
				} else {
					previewEl.innerHTML = '<span class="small">Uploaded</span>';
				}
			}

			const profile = $('profilePhoto'), pPreview=$('previewProfile');
			const nidF = $('nidFront'), nidB = $('nidBack'), pNidF=$('previewNidFront'), pNidB=$('previewNidBack');
			[profile,nidF,nidB].forEach(el=>{ if(!el) return; el.addEventListener('change', (e)=>{ const id = e.target.id; if(id==='profilePhoto') previewFile(el,pPreview); if(id==='nidFront') previewFile(el,pNidF); if(id==='nidBack') previewFile(el,pNidB); }); });

			// Basic client validation on submit + show loader overlay
			const overlay = $('loaderOverlay');
			const form = $('sellerForm'); form.addEventListener('submit', (ev)=>{
				ev.preventDefault();
				// require NID front/back and agreement
				if(!nidF.files.length || !nidB.files.length){ alert('Please upload both sides of your NID.'); return; }
				if(!$('agree').checked){ alert('Please confirm the seller terms.'); return; }
				// show overlay
				if(overlay){ overlay.style.display = 'flex'; overlay.setAttribute('aria-hidden','false'); }
				// collect form data for further processing
				const fd = new FormData(form);
				// TODO: send fd via fetch to server endpoint. For demo, simulate a short upload delay
				setTimeout(()=>{
					if(overlay){ overlay.style.display = 'none'; overlay.setAttribute('aria-hidden','true'); }
					alert('Application submitted ‚Äî we will review and contact you.');
					form.reset(); [pPreview,pNidF,pNidB].forEach(el=>el.innerHTML='<span class="small">No preview</span>');
				}, 1200);
			});
		});

		// theme toggle (reuse pattern)
		(function(){const key='mrshop-theme';const btn=document.getElementById('themeToggle');const root=document.documentElement;function apply(theme){ if(theme==='dark') root.classList.add('theme-dark'); else root.classList.remove('theme-dark'); if(btn) btn.textContent = theme==='dark' ? '‚òÄÔ∏è' : 'üåô'; } const saved = localStorage.getItem(key) || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'); apply(saved); if(btn) btn.addEventListener('click', ()=>{ const cur=root.classList.contains('theme-dark')?'dark':'light'; const next=cur==='dark'?'light':'dark'; localStorage.setItem(key,next); apply(next); });})();
	</script>
</body>
</html>
